{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport { throwError } from 'rxjs';\nimport { Flashcard } from '../models/FlashCard';\nimport { tap, catchError } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class FlashcardService {\n  constructor(http) {\n    this.http = http;\n    this.apiUrl = 'http://localhost:3000/flashcards'; // Update this URL to match your backend\n    this.flashcard = new Flashcard();\n    this.editMode = false;\n    this.flashcards = [];\n  }\n  getFlashcards() {\n    console.log('Sending GET request to:', this.apiUrl);\n    return this.http.get(this.apiUrl).pipe(tap(data => {\n      console.log('Received flashcards data:', data);\n    }), catchError(error => {\n      console.error('Error fetching flashcards:', error);\n      throw error;\n    }));\n  }\n  // Other methods...\n  getFlashcardById(id) {\n    return this.http.get(`${this.apiUrl}/${id}`);\n  }\n  createFlashcard(newFlashcard) {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json'\n      })\n    };\n    return this.http.post(this.apiUrl, newFlashcard, httpOptions).pipe(tap(createdFlashcard => {\n      console.log('Flashcard created:', createdFlashcard);\n      this.flashcards.push(createdFlashcard);\n    }), catchError(error => {\n      console.error('Error creating flashcard:', error);\n      return throwError(error); // Rethrow the error to handle it in the component\n    }));\n  }\n\n  updateFlashcard(id, updatedFlashcard) {\n    return this.http.put(`${this.apiUrl}/${id}`, updatedFlashcard).pipe(tap(updated => {\n      const index = this.flashcards.findIndex(f => f.id === id);\n      if (index !== -1) {\n        this.flashcards[index] = updated; // Update the flashcard in the array\n      }\n    }), catchError(error => {\n      console.error('Error updating flashcard:', error);\n      throw error;\n    }));\n  }\n  deleteFlashcard(id) {\n    return this.http.delete(`${this.apiUrl}/${id}`).pipe(tap(() => {\n      this.flashcards = this.flashcards.filter(f => f.id !== id); // Remove the flashcard from the array\n    }), catchError(error => {\n      console.error('Error deleting flashcard:', error);\n      throw error;\n    }));\n  }\n}\nFlashcardService.ɵfac = function FlashcardService_Factory(t) {\n  return new (t || FlashcardService)(i0.ɵɵinject(i1.HttpClient));\n};\nFlashcardService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: FlashcardService,\n  factory: FlashcardService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"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","names":["HttpHeaders","throwError","Flashcard","tap","catchError","FlashcardService","constructor","http","getFlashcards","console","log","apiUrl","get","pipe","data","error","getFlashcardById","id","createFlashcard","newFlashcard","httpOptions","headers","post","createdFlashcard","flashcards","push","updateFlashcard","updatedFlashcard","put","updated","index","findIndex","f","deleteFlashcard","delete","filter","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\HP\\Downloads\\web-learning-app-main\\web-learning-app-main\\frontend-angular\\src\\app\\services\\FlashCardService.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\r\nimport { HttpClient,HttpHeaders  } from '@angular/common/http';\r\nimport { throwError ,Observable } from 'rxjs';\r\nimport { Flashcard } from '../models/FlashCard';\r\nimport { tap, catchError } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class FlashcardService {\r\n    private apiUrl = 'http://localhost:3000/flashcards'; // Update this URL to match your backend\r\n\r\n    flashcard: Flashcard = new Flashcard();\r\n    editMode: boolean = false;\r\n    flashcards: Flashcard[] = [];\r\n\r\n    constructor(private http: HttpClient) {}\r\n\r\n    getFlashcards(): Observable<Flashcard[]> {\r\n        console.log('Sending GET request to:', this.apiUrl);\r\n        return this.http.get<Flashcard[]>(this.apiUrl).pipe(\r\n            tap((data) => {\r\n                console.log('Received flashcards data:', data);\r\n            }),\r\n            catchError((error) => {\r\n                console.error('Error fetching flashcards:', error);\r\n                throw error;\r\n            })\r\n        );\r\n    }\r\n\r\n    // Other methods...\r\n\r\n\r\n\r\n\r\n  getFlashcardById(id: number): Observable<Flashcard> {\r\n    return this.http.get<Flashcard>(`${this.apiUrl}/${id}`);\r\n  }\r\n\r\n  createFlashcard(newFlashcard: Flashcard): Observable<Flashcard> {\r\n    const httpOptions = {\r\n      headers: new HttpHeaders({\r\n        'Content-Type': 'application/json',\r\n      }),\r\n    };\r\n\r\n    return this.http\r\n      .post<Flashcard>(this.apiUrl, newFlashcard, httpOptions)\r\n      .pipe(\r\n        tap((createdFlashcard) => {\r\n          console.log('Flashcard created:', createdFlashcard);\r\n          this.flashcards.push(createdFlashcard);\r\n        }),\r\n        catchError((error) => {\r\n          console.error('Error creating flashcard:', error);\r\n          return throwError(error); // Rethrow the error to handle it in the component\r\n        })\r\n      );\r\n  }\r\n\r\n  updateFlashcard(id: number, updatedFlashcard: Flashcard): Observable<Flashcard> {\r\n    return this.http.put<Flashcard>(`${this.apiUrl}/${id}`, updatedFlashcard).pipe(\r\n      tap((updated) => {\r\n        const index = this.flashcards.findIndex((f) => f.id === id);\r\n        if (index !== -1) {\r\n          this.flashcards[index] = updated; // Update the flashcard in the array\r\n        }\r\n      }),\r\n      catchError((error) => {\r\n        console.error('Error updating flashcard:', error);\r\n        throw error;\r\n      })\r\n    );\r\n  }\r\n\r\n  deleteFlashcard(id: number): Observable<any> {\r\n    return this.http.delete(`${this.apiUrl}/${id}`).pipe(\r\n      tap(() => {\r\n        this.flashcards = this.flashcards.filter((f) => f.id !== id); // Remove the flashcard from the array\r\n      }),\r\n      catchError((error) => {\r\n        console.error('Error deleting flashcard:', error);\r\n        throw error;\r\n      })\r\n    );\r\n  }\r\n\r\n  // ... other methods as needed ...\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}